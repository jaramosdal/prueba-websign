var a0_0x731ddd=a0_0x6125;(function(_0x3042ea,_0x4a82fd){var _0xb939c1=a0_0x6125,_0x469a56=_0x3042ea();while(!![]){try{var _0x2a6a4b=parseInt(_0xb939c1(0x150))/0x1*(-parseInt(_0xb939c1(0x16c))/0x2)+parseInt(_0xb939c1(0x18f))/0x3+-parseInt(_0xb939c1(0x1a0))/0x4+-parseInt(_0xb939c1(0x170))/0x5*(parseInt(_0xb939c1(0x1ab))/0x6)+parseInt(_0xb939c1(0x16f))/0x7*(-parseInt(_0xb939c1(0x16b))/0x8)+-parseInt(_0xb939c1(0x141))/0x9*(parseInt(_0xb939c1(0x189))/0xa)+parseInt(_0xb939c1(0x1ad))/0xb;if(_0x2a6a4b===_0x4a82fd)break;else _0x469a56['push'](_0x469a56['shift']());}catch(_0x222d2c){_0x469a56['push'](_0x469a56['shift']());}}}(a0_0x1c50,0xdfea1));function a0_0x6125(_0x52b128,_0x1eed0d){var _0x1c50e1=a0_0x1c50();return a0_0x6125=function(_0x6125da,_0x56b756){_0x6125da=_0x6125da-0x13b;var _0xcbe51d=_0x1c50e1[_0x6125da];return _0xcbe51d;},a0_0x6125(_0x52b128,_0x1eed0d);}function a0_0x1c50(){var _0x5218fc=['pdfB64','/js/web-sign/modules/edatalia-stu-signer/crypto/promise.js','open','onClear','time','startCapture','catch','setConfig','MAX_X;MAX_Y;MAX_PRESS;LCD_WIDTH;LCD_HEIGHT;LX;RX;TY;BY;TIME_START;TIME_END;HARDWARE;SOFTWARE;EXTRA;VAR\x0a','onSignatureStarted','naturalHeight','init','1608252mWNznI','press','clear','charCodeAt','subtle','private','/js/web-sign/modules/js-md5/build/md5.min.js','height','onDisconnected','cancel','SOFTWARE','66pPaZUx','onError','34439064iYNBwD','accept','convertToPlainBioData','/js/web-sign/modules/edatalia-stu-signer/crypto/common.js','base64ToArrayBuffer','prototype','head','/js/web-sign/modules/sjcl/sjcl.js','MAX_Y','onCancel','/js/web-sign/modules/gl-matrix/gl-matrix-min.js','disconnected','onload','public','/js/web-sign/modules/poly2tri/dist/poly2tri.min.js','encryption','X;Y;PRESS;SW;TIME\x0a','createElement','/js/web-sign/modules/clipper-lib/clipper.js','SHA-512','sha512','/js/web-sign/modules/edatalia-stu-signer/src/edatalia-pen.js','39834FoOcwW','/js/web-sign/modules/edatalia-stu-signer/src/edatalia-stu.js','width','toDataURL','push','length','script','onLoadingStuImage','TIME_END','/js/web-sign/modules/js-ext/js-ext-min.js','config','onUploadingScreenSaver','/js/web-sign/modules/stu-capture/stu-capture_encryption.js','https://kit.fontawesome.com/74ae11c0db.js','bind','28058SqskvK','fillRect','map','La\x20firma\x20debe\x20ser\x20mÃ¡s\x20larga.','/js/web-sign/modules/signature_sdk/signature_sdk.js','/js/web-sign/modules/long/umd/index.js','drawImage','stu','getElementsByTagName','onWorking','LCD_HEIGHT','getContext','/js/web-sign/modules/protobufjs/dist/protobuf.min.js','LCD_WIDTH','/js/web-sign/modules/edatalia-stu-signer/crypto/cms_schema.js','/js/web-sign/modules/stu-capture/stu-sdk.min.js','mSigObj','/js/web-sign/modules/edatalia-stu-signer/crypto/ocsp_tsp_schema.js','onNoTabletFound','notabletfound','EXTRA','uploadingscreensaver','atob','undefined','then','src','addEventListener','94872LAmVVb','8oHtkRB','image/jpeg','doProcessBioDataAndSign','189hHOURa','797835kkGeyc','/js/web-sign/modules/edatalia-stu-signer/src/edatalia-signatureEncoder.js','naturalWidth','origin','pngToJpeg','/js/web-sign/modules/edatalia-stu-signer/crypto/pako_deflate.min.js','log','/js/web-sign/modules/edatalia-stu-signer/crypto/crypto.js','/js/web-sign/modules/rbush/rbush.min.js','onPreSigned','EcoBioPreSignEnc','async','capturedPoints','sendOnInitialized','/js/web-sign/modules/edatalia-stu-signer/crypto/x509_schema.js','canvas','buffer','crypto','/js/web-sign/modules/edatalia-stu-signer/crypto/ocsp_tsp_simpl.js','getRandomValues','toString','mHash','onInitialized','all','hid','1270kzKOLj','MAX_PRESS','appendChild','/js/web-sign/modules/edatalia-stu-signer/crypto/x509_simpl.js','checking\x20brushPalette,\x20retry:\x20','HARDWARE','2814468qMxinz','/js/web-sign/modules/edatalia-stu-signer/crypto/cms_simpl.js','call','#ffffff','/js/web-sign/modules/digital-ink/digital-ink-min.js'];a0_0x1c50=function(){return _0x5218fc;};return a0_0x1c50();}class EdataliaSTUSigner{#edataliaSTU;#edataliaPen;#callback;#signatureType;[a0_0x731ddd(0x160)];[a0_0x731ddd(0x185)];[a0_0x731ddd(0x14b)];[a0_0x731ddd(0x194)];constructor(_0x3caf49,_0x5730fe,_0x38709b,_0x2acfb5){var _0x531ac6=a0_0x731ddd;this[_0x531ac6(0x194)]=_0x3caf49,this[_0x531ac6(0x14b)]=_0x5730fe,this[_0x531ac6(0x13f)](this[_0x531ac6(0x1b1)](this['pdfB64']))[_0x531ac6(0x168)](_0x3b7739=>this['mHash']=_0x3b7739),this.#callback=_0x2acfb5,this.#signatureType=_0x38709b;}[a0_0x731ddd(0x19b)](_0xcf8f15){var _0x197d04=a0_0x731ddd;this[_0x197d04(0x14b)]=_0xcf8f15;}['setPDFB64'](_0x2cef5d){var _0x50a188=a0_0x731ddd;this[_0x50a188(0x194)]=_0x2cef5d,this['sha512'](this[_0x50a188(0x1b1)](this[_0x50a188(0x194)]))[_0x50a188(0x168)](_0x154784=>this[_0x50a188(0x185)]=_0x154784);}[a0_0x731ddd(0x1b1)](_0x537cb7){var _0x3819f9=a0_0x731ddd,_0x509d5a=window[_0x3819f9(0x166)](_0x537cb7),_0xbf2a1=_0x509d5a[_0x3819f9(0x146)],_0x5c115a=new Uint8Array(_0xbf2a1);for(var _0x5de89a=0x0;_0x5de89a<_0xbf2a1;_0x5de89a++){_0x5c115a[_0x5de89a]=_0x509d5a[_0x3819f9(0x1a3)](_0x5de89a);}return _0x5c115a[_0x3819f9(0x180)];}[a0_0x731ddd(0x13f)](_0x53dec3){var _0x156cda=a0_0x731ddd;return crypto[_0x156cda(0x1a4)]['digest'](_0x156cda(0x13e),_0x53dec3)[_0x156cda(0x168)](_0x1c3369=>{var _0x3d2d0f=_0x156cda;return Array[_0x3d2d0f(0x1b2)][_0x3d2d0f(0x152)][_0x3d2d0f(0x191)](new Uint8Array(_0x1c3369),_0x212d33=>('00'+_0x212d33[_0x3d2d0f(0x184)](0x10))['slice'](-0x2))['join']('');});}async #loadSyncScript(_0x3f9cb4,_0x4d712a=![]){var _0x298ce4=a0_0x731ddd;if(!_0x4d712a){let _0x54f44a=document[_0x298ce4(0x158)]('script');for(var _0x2e5ad8=0x0;_0x2e5ad8<_0x54f44a[_0x298ce4(0x146)];_0x2e5ad8++){if(_0x54f44a[_0x2e5ad8][_0x298ce4(0x169)]===window['location'][_0x298ce4(0x173)]+_0x3f9cb4)return;}}var _0x775b3b=document[_0x298ce4(0x13c)](_0x298ce4(0x147));return _0x775b3b[_0x298ce4(0x169)]=_0x3f9cb4,_0x775b3b[_0x298ce4(0x17b)]=![],document[_0x298ce4(0x1b3)][_0x298ce4(0x18b)](_0x775b3b),new Promise((_0xe0ccc0,_0x5f0ed2)=>{var _0x44a3a5=_0x298ce4;_0x775b3b[_0x44a3a5(0x1b9)]=()=>{_0xe0ccc0();};});}async[a0_0x731ddd(0x19f)](){var _0x489b64=a0_0x731ddd;let _0x2c35af=[];_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x13d))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x1a6))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x1bb))),_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x155))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x15c))),_0x2c35af['push'](this.#loadSyncScript('/js/web-sign/modules/jszip/dist/jszip.min.js')),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x1b7))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x178))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x14a))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x1b4))),_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x193))),_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x140))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x171))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x175))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x1b0))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript('/js/web-sign/modules/edatalia-stu-signer/crypto/asn1.js')),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x17e))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x18c))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x15e))),_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x190))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x161))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x182))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x195))),_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x177))),this.#signatureType==_0x489b64(0x157)&&(_0x2c35af['push'](this.#loadSyncScript(_0x489b64(0x15f))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x14d))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript('/js/web-sign/modules/stu-capture/stu-capture.js')),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x142))),_0x2c35af[_0x489b64(0x145)](this.#loadSyncScript(_0x489b64(0x14e)))),await Promise[_0x489b64(0x187)](_0x2c35af),await this.#loadSyncScript(_0x489b64(0x154)),this.#sendOnInitialized();}#sendOnInitialized(){var _0x530d2d=a0_0x731ddd;console[_0x530d2d(0x176)](_0x530d2d(0x17d));let _0x3c8ccd=0x1;if(typeof BrushPalette!==_0x530d2d(0x167))this.#callback({'type':_0x530d2d(0x186),'hid':navigator[_0x530d2d(0x188)]});else var _0x55d893=setInterval(()=>{var _0x44ea9b=_0x530d2d;console[_0x44ea9b(0x176)](_0x44ea9b(0x18d)+_0x3c8ccd),typeof BrushPalette!=='undefined'?(clearInterval(_0x55d893),this.#callback({'type':_0x44ea9b(0x186),'hid':navigator[_0x44ea9b(0x188)]})):_0x3c8ccd++;},0x64);}[a0_0x731ddd(0x1af)](_0x30c6c1){var _0x4f9bc4=a0_0x731ddd,_0x19f266='';_0x19f266+=_0x4f9bc4(0x19c),_0x19f266+=_0x30c6c1[0x0]['MAX_X']+';'+_0x30c6c1[0x0][_0x4f9bc4(0x1b5)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x18a)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x15d)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x15a)]+';'+_0x30c6c1[0x0]['LX']+';'+_0x30c6c1[0x0]['RX']+';'+_0x30c6c1[0x0]['TY']+';'+_0x30c6c1[0x0]['BY']+';'+_0x30c6c1[0x0]['TIME_START']+';'+_0x30c6c1[0x0][_0x4f9bc4(0x149)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x18e)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x1aa)]+';'+_0x30c6c1[0x0][_0x4f9bc4(0x164)]+';'+_0x30c6c1[0x0]['VAR']+'\x0a',_0x19f266+=_0x4f9bc4(0x13b);for(let _0x15b82e=0x0;_0x15b82e<_0x30c6c1[0x1]['length'];_0x15b82e++){_0x19f266+=_0x30c6c1[0x1][_0x15b82e]['x']+';'+_0x30c6c1[0x1][_0x15b82e]['y']+';'+_0x30c6c1[0x1][_0x15b82e][_0x4f9bc4(0x1a1)]+';'+_0x30c6c1[0x1][_0x15b82e]['sw']+';'+_0x30c6c1[0x1][_0x15b82e][_0x4f9bc4(0x198)]+'\x0a';}return _0x19f266;}[a0_0x731ddd(0x174)](_0x4fb35b){return new Promise((_0xf8b4c,_0x319f1c)=>{var _0x3575ac=a0_0x6125,_0x1aa5d8=new Image();_0x1aa5d8[_0x3575ac(0x1b9)]=function(){var _0x2505e3=_0x3575ac,_0x53ea44=_0x2505e3(0x16d),_0x28a37c=document['createElement'](_0x2505e3(0x17f));_0x28a37c[_0x2505e3(0x143)]=_0x1aa5d8[_0x2505e3(0x172)],_0x28a37c[_0x2505e3(0x1a7)]=_0x1aa5d8[_0x2505e3(0x19e)];var _0x5310b6=_0x28a37c[_0x2505e3(0x15b)]('2d');_0x5310b6['fillStyle']=_0x2505e3(0x192),_0x5310b6[_0x2505e3(0x151)](0x0,0x0,_0x28a37c['width'],_0x28a37c[_0x2505e3(0x1a7)]),_0x5310b6[_0x2505e3(0x156)](_0x1aa5d8,0x0,0x0,_0x1aa5d8[_0x2505e3(0x172)],_0x1aa5d8[_0x2505e3(0x19e)]);var _0x51b9a7=_0x28a37c[_0x2505e3(0x144)](_0x53ea44,0.4);_0xf8b4c(_0x51b9a7['substr'](_0x51b9a7['indexOf'](',')+0x1));},_0x1aa5d8[_0x3575ac(0x169)]=_0x4fb35b;});}async[a0_0x731ddd(0x16e)](_0x4cd38c,_0x20b343){var _0x1d262e=a0_0x731ddd;const _0x4370b7=new EdataliaSignatureEncoder();_0x4370b7[_0x1d262e(0x17a)](_0x4cd38c)['then'](_0x3d6881=>{var _0x1f55a4=_0x1d262e;this[_0x1f55a4(0x174)](_0x20b343)['then'](_0x4700c2=>{var _0xad8e1=_0x1f55a4;this.#callback({'type':_0xad8e1(0x179),'b64SignatureImage':_0x4700c2,'b64PublicWebSignData':_0x3d6881[_0xad8e1(0x1ba)],'b64PrivateWebSignData':_0x3d6881[_0xad8e1(0x1a5)]}),this[_0xad8e1(0x1a2)]();});})[_0x1d262e(0x19a)](_0x5a98b3=>{var _0x161ac2=_0x1d262e;this.#callback({'type':_0x161ac2(0x1ac),'error':_0x5a98b3});});}async['doCaptureFromCanvas'](){var _0x3fc642=a0_0x731ddd;if(this.#edataliaPen){this.#callback({'type':_0x3fc642(0x19d)}),await this.#edataliaPen[_0x3fc642(0x196)](this[_0x3fc642(0x160)],this['mHash']),this.#edataliaPen[_0x3fc642(0x199)]();return;}this.#edataliaPen=new EdataliaPen(this[_0x3fc642(0x14b)]),this.#edataliaPen[_0x3fc642(0x16a)]('ok',async function(_0x4be7f8){var _0x44762c=_0x3fc642;console['log'](_0x4be7f8[0x1][_0x44762c(0x146)]),this.#callback({'type':_0x44762c(0x159)});var _0x47be32=this[_0x44762c(0x1af)](_0x4be7f8);this['doProcessBioDataAndSign'](_0x47be32,_0x4be7f8[0x2]);}[_0x3fc642(0x14f)](this)),this.#edataliaPen[_0x3fc642(0x16a)](_0x3fc642(0x1a9),function(){var _0x230287=_0x3fc642;this.#callback({'type':_0x230287(0x1b6)});}['bind'](this)),this.#edataliaPen[_0x3fc642(0x16a)](_0x3fc642(0x1a2),function(){var _0x2ac368=_0x3fc642;this.#callback({'type':_0x2ac368(0x197)});}[_0x3fc642(0x14f)](this)),this.#edataliaPen['addEventListener'](_0x3fc642(0x17c),function(){var _0x229761=_0x3fc642;this.#callback({'type':'onCapturedPoints','error':_0x229761(0x153)});}[_0x3fc642(0x14f)](this)),this.#callback({'type':_0x3fc642(0x19d)}),await this.#edataliaPen[_0x3fc642(0x196)](this[_0x3fc642(0x160)],this[_0x3fc642(0x185)]),this.#edataliaPen[_0x3fc642(0x199)]();}['doCaptureFromSTU'](){var _0x2807cb=a0_0x731ddd;if(this.#edataliaSTU){this.#edataliaSTU[_0x2807cb(0x196)](this['mSigObj'],this[_0x2807cb(0x185)]);return;}this[_0x2807cb(0x14b)][_0x2807cb(0x1bc)]={'sessionId':window[_0x2807cb(0x181)][_0x2807cb(0x183)](new Uint32Array(0x1))[0x0],'encryptionHandler':new MyEncryptionHandler(),'encryptionHandler2':new MyEncryptionHandler2()},this.#edataliaSTU=new EdataliaSTU(this[_0x2807cb(0x14b)]),this.#edataliaSTU['addEventListener']('ok',async function(_0x2e94ae){var _0xe658b5=_0x2807cb;this.#callback({'type':_0xe658b5(0x159)});var _0x9af63d=this[_0xe658b5(0x1af)](_0x2e94ae);this[_0xe658b5(0x16e)](_0x9af63d,_0x2e94ae[0x2]);}['bind'](this)),this.#edataliaSTU[_0x2807cb(0x16a)](_0x2807cb(0x1a9),function(){var _0x4152fa=_0x2807cb;this['clear'](),this.#callback({'type':_0x4152fa(0x1b6)});}[_0x2807cb(0x14f)](this)),this.#edataliaSTU['addEventListener'](_0x2807cb(0x1a2),function(){this.#callback({'type':'onClear'});}[_0x2807cb(0x14f)](this)),this.#edataliaSTU[_0x2807cb(0x16a)](_0x2807cb(0x163),function(){var _0x2f467a=_0x2807cb;this.#callback({'type':_0x2f467a(0x162)});}[_0x2807cb(0x14f)](this)),this.#edataliaSTU[_0x2807cb(0x16a)](_0x2807cb(0x1b8),function(){var _0x5cbbee=_0x2807cb;this.#callback({'type':_0x5cbbee(0x1a8)});}['bind'](this)),this.#edataliaSTU[_0x2807cb(0x16a)](_0x2807cb(0x165),function(){var _0x1c0f84=_0x2807cb;this.#callback({'type':_0x1c0f84(0x14c)});}[_0x2807cb(0x14f)](this)),this.#edataliaSTU['addEventListener']('loadingStuImage',function(_0x24ca8f){var _0x5e0272=_0x2807cb;this.#callback({'type':_0x5e0272(0x148),'loading':_0x24ca8f});}[_0x2807cb(0x14f)](this)),this.#edataliaSTU[_0x2807cb(0x16a)](_0x2807cb(0x17c),function(){var _0x58877d=_0x2807cb;this.#callback({'type':'onCapturedPoints','error':_0x58877d(0x153)});}[_0x2807cb(0x14f)](this)),this.#callback({'type':_0x2807cb(0x19d)}),this.#edataliaSTU[_0x2807cb(0x196)](this['mSigObj'],this[_0x2807cb(0x185)]);}[a0_0x731ddd(0x1a2)](){var _0x3c68bf=a0_0x731ddd;this.#edataliaPen&&this.#edataliaPen['clear'](),this.#edataliaSTU&&this.#edataliaSTU[_0x3c68bf(0x1a2)]();}[a0_0x731ddd(0x1ae)](){var _0x552324=a0_0x731ddd;this.#edataliaPen&&this.#edataliaPen['accept'](),this.#edataliaSTU&&this.#edataliaSTU[_0x552324(0x1ae)]();}[a0_0x731ddd(0x1a9)](){this.#edataliaPen&&this.#edataliaPen['cancel'](),this.#edataliaSTU&&this.#edataliaSTU['cancel']();}}